# Data Acquisition: Elevation Data from Bing Maps (WiP)

<img src="https://user-images.githubusercontent.com/44923999/236240083-61fb1241-39e5-4d4c-ad0e-3f83480c8edf.png" width="1000" />

## Use Case
This solution considers the following requirements:

* "Our vehicular IoT devices capture GPS coordinates, but not elevation data"
* "We want to enrich data to enhance machine learning models"
* "As new data streams in, we want to enrich the stream with elevation data (based on the most granular possible GPS coordinates)"
* "We want to query Elevation GPS coordinates to five decimal places {i.e., round coordinates with more than five decimal places}"
* Bing Maps API documentation: "The maximum number of elevations returned in a request is 1024"

## Prerequisites
This solution requires the following resources:

* [Bing Maps](https://learn.microsoft.com/en-us/bingmaps/) [**Key**](https://learn.microsoft.com/en-us/bingmaps/getting-started/bing-maps-dev-center-help/getting-a-bing-maps-key)
* [**Data Explorer**](https://learn.microsoft.com/en-us/azure/data-explorer/) [Cluster and Database](https://learn.microsoft.com/en-us/azure/data-explorer/create-cluster-database-portal) with [StormEvents](https://learn.microsoft.com/en-us/azure/data-explorer/ingest-sample-data) sample data
* [Synapse Workspace](Infrastructure_Synapse.md) with...
  * Data Explorer [Linked Service and Integration Dataset](https://learn.microsoft.com/en-us/azure/data-factory/concepts-linked-services)
  * Data Explorer Database, "User" permissions for the Synapse Managed Identity

-----

## Exercise 1: Enrich Data using Bing Maps
In this exercise, we will add an "**Elevation**" column to the **StormEvents** table.

## Step 1: Modify Schema

<img src="https://user-images.githubusercontent.com/44923999/236253087-0bf8388c-618d-4046-9d6a-4d05198346af.png" width="800" title="Snipped: May 4, 2023" />

Navigate to Data Explorer >> "**Query**" and then run the following KQL:
```
.alter table StormEvents (
    StartTime: datetime,
    EndTime: datetime,
    EpisodeId: long,
    EventId: long,
    State: string,
    EventType: string,
    InjuriesDirect: long,
    InjuriesIndirect: long,
    DeathsDirect: long,
    DeathsIndirect: long,
    DamageProperty: long,
    DamageCrops: long,
    Source: string,
    BeginLocation: string,
    EndLocation: string,
    BeginLat: real,
    BeginLon: real,
    EndLat: real,
    EndLon: real,
    EpisodeNarrative:string,
    EventNarrative: string,
    StormSummary: string,
    Elevation: int
    ) 
```

## Step 2: Create Pipeline

LOREM IPSUM

StormEvents
| where not(isnull(BeginLat)) and not(isnull(BeginLon))
| distinct BeginLat = round(BeginLat,5), BeginLon = round(BeginLon,5)
| take 128
| summarize points = make_list(strcat(BeginLat,",",BeginLon))
| project points = replace_string(replace_string(replace_string(tostring(points),"[",""),"]",""),"\"","")

@concat("http://dev.virtualearth.net/REST/v1/Elevation/List?points=",item().BeginLat,",",item().BeginLon,"&key=AovJ4RaLmics_D-oHTKlr35bg5S_W4T5m6ualG7i8Lsb09-6K1YvW939JjbPkbto")

{
    "url": "http://dev.virtualearth.net/REST/v1/Elevation/List?points=35.52,-81.63,38.8,-75.58,38.9989,-85.9,39.12,-86.98,38.67,-87.2255,38.52,-87.52,38.5,-87.28,39.47,-87.4,38.48,-87.53,39.78,-87.3612,39.8,-87.37,38.68,-87.52,38.42,-87.77,38.4,-87.73,38.03,-88.05,38.13,-87.93,39.02,-87.58,35.5416,-81.3579,39.83,-75.02,40.95,-74.3,40.22,-74.57,40.5,-74.85,39.85,-74.92,36.68,-79.87,36.68,-79.03,36.38,-79.97,36.6523,-79.33,40.37,-75.2,39.28,-86.77,40.27,-75.47,39.63,-75.73,36.58,-79.87,40.53,-74.7,40.02,-75.7,36.93,-79.0404,39.88,-75.25,40.42,-86.87,45.63,-121.95,45.33,-121.97,45.1267,-122.1124,46.3822,-123.048,46.28,-122.9,45.58,-122.35,45.53,-122.65,44.05,-123.0,45.67,-121.88,44.92,-123.4629,45.45,-123.85,45.22,-123.2,45.5,-122.43,45.23,-123.82,44.58,-124.05,46.15,-122.15,46.18,-121.93,46.15,-122.9,45.2,-123.97,45.58,-123.5,40.28,-87.3,40.13,-87.4,47.13,-117.25,46.88,-117.35,45.28,-122.33,27.32,-96.5878,27.9189,-95.8502,27.92,-95.35,38.77,-86.4,29.51,-94.02,45.23,-122.77,28.97,-92.4,29.49,-92.46,29.51,-92.05,29.35,-92.16,29.37,-91.81,29.919,-91.798,30.6,-91.38,30.6,-91.45,32.45,-90.4985,30.6504,-90.4762,30.5204,-90.4463,31.2289,-90.0,31.8,-90.0,31.87,-90.18,31.4394,-89.9652,31.43,-89.97,31.6867,-89.88,31.5693,-89.844,31.95,-89.88,31.75,-89.67,28.9909,-89.37,31.87,-89.516,31.15,-89.42,30.4516,-89.163,32.13,-89.5,31.32,-89.32,31.1754,-89.32,31.9266,-89.3,31.7296,-89.294,32.23,-89.4345,30.85,-89.13,32.5366,-89.32,31.88,-89.0,32.5355,-89.27,32.24,-88.98,32.58,-89.24,33.17,-89.67,32.6241,-89.2283,32.4402,-89.1079,32.03,-88.88,32.5811,-88.9694,32.7211,-89.03,32.37,-88.72,32.57,-88.71,33.32,-89.17,32.6145,-88.6959,32.67,-88.83,33.13,-89.0155,33.02,-88.9362,32.9977,-88.6596,33.4122,-88.32,33.4693,-88.3932,33.5411,-88.32,30.37,-88.12,30.25,-88.07,33.57,-88.08,33.7553,-88.1136,33.5728,-88.0833,33.2077,-87.5662,33.2,-87.57,34.37,-89.52,32.63,-87.32,34.13,-87.98,32.38,-86.3,29.28,-88.6241,34.1767,-85.7595,32.4636,-85.5811,33.03,-85.03,33.3632,-84.9031,33.2,-84.7673,33.7091,-84.7008,33.42,-84.45,33.2733,-84.5632,33.62,-84.37,33.8007,-84.3631,33.27,-84.28,33.55,-84.23,33.67,-84.02,33.57,-83.9868,34.05,-84.07,33.8004,-83.7446,34.3,-83.83,33.95,-83.53,34.17,-83.68,33.97,-83.6,33.95,-83.4846,34.33,-83.6401,34.4868,-83.6172,34.3189,-83.2919,34.5579,-83.2551,34.2,-83.03,34.78,-82.68,33.83,-82.54,33.86,-82.21,34.2004,-82.1947,34.8091,-82.4498,34.5409,-81.9704,34.8556,-82.0311,34.8855,-81.9863,30.15,-84.2,34.8,-81.4501,35.0716,-81.3174,35.2423,-81.0982,31.2288,-82.47,31.32,-82.47,30.52,-82.92,30.67,-82.56,29.92,-82.71,41.38,-81.63,30.33,-81.67,41.63,-81.4,41.37,-82.1,32.6,-80.07,41.3,-82.62,41.03,-83.65,44.87,-71.5,44.65,-71.55,42.9609,-70.5993,43.8955,-68.8358,33.8587,-86.0456,31.52,-87.33,33.2496,-85.8745,32.7,-85.78,32.7454,-85.8,32.676,-85.8,32.55,-86.22,32.18,-86.6,31.83,-86.63,33.8313,-84.8626,33.1579,-85.0438,33.2134,-85.0479,33.2857,-84.9009,31.4904,-85.6973,21.63,-157.6,31.7585,-85.17,40.73,-74.77,39.4,-74.83,39.83,-75.18,40.22,-74.75,39.5,-75.22,22.12,-159.3,21.55,-157.87,39.93,-74.9,39.9,-75.03,36.45,-76.02,37.27,-86.98,37.08,-75.87,40.45,-74.62,21.95,-159.68,21.43,-158.18,19.42,-155.23,21.7,-158.03,17.7822,-65.0073,43.1,-73.6,37.7,-88.13,32.7589,-97.12,31.1898,-97.312,33.2,-96.62,37.97,-91.35,37.95,-90.8,37.55,-90.3,37.43,-90.97,37.8,-90.05,37.92,-90.57,37.6,-90.63,29.8693,-97.9354,30.28,-97.75,29.8734,-97.9307,29.98,-97.87,29.8157,-98.13,37.87,-87.82,37.77,-87.93,30.35,-97.37,30.57,-97.42,35.38,-94.42,30.8087,-97.2014,35.5,-93.83,31.53,-96.3674,29.7511,-98.0711,29.97,-98.73,30.28,-98.4,35.38,-94.03,37.93,-87.9,35.33,-94.18,30.8222,-97.4,34.79,-92.26,34.58,-94.23,35.58,-92.45,34.9,-94.08,34.6092,-92.4912,31.53,-96.813,31.92,-96.43,34.83,-91.98,31.87,-96.33,31.08,-96.98,35.13,-93.93,36.0,-93.18,34.5,-93.05,34.55,-93.63,34.27,-93.46,35.28,-93.13,36.33,-92.38,35.05,-93.38,39.52,-85.78,35.87,-92.11,32.2,-95.85,32.55,-95.87,35.28,-91.64,36.37,-91.82,35.9,-92.63,35.24,-91.73,35.65,-91.07,32.73,-94.93,32.52,-95.4,33.37,-95.1,36.62,-90.82,35.77,-91.65,35.57,-92.17,33.5477,-95.05,32.8,-95.43,34.06,-93.69,34.37,-92.8,35.09,-92.45,35.07,-91.88,35.25,-91.75,29.97,-96.4866,35.98,-91.1,36.27,-90.97,35.03,-92.69,34.86,-92.8,35.0,-92.77,36.67,-90.47,36.8,-89.95,34.87,-92.21,30.77,-96.08,30.17,-96.4,30.07,-96.38,29.77,-96.38,33.45,-94.42,33.02,-94.33,33.67,-94.13,35.3,-92.53,34.12,-93.07,36.23,-91.61,31.1902,-94.8119,37.03,-88.67,33.67,-93.6,36.6,-89.53,36.78,-89.38,36.95,-88.9138,36.73,-88.63,36.57,-89.216,30.4857,-95.75,30.93,-95.38,36.78,-89.0381,31.0,-94.82,30.72,-95.57,30.75,-95.23,31.13,-95.43,36.77,-89.1,36.0953,-91.751,31.62,-96.28,33.82,-92.42,33.53,-92.47,37.95,-87.42,37.12,-88.63,37.27,-89.02,35.25,-92.48,33.58,-92.83,35.7402,-91.1874,35.1891,-91.62,35.25,-91.2,34.78,-91.45,34.07,-93.68,39.52,-86.38,32.7882,-95.6527,36.93,-90.28,36.05,-90.48,39.22,-85.83,35.8,-90.93,35.23,-90.8,31.4904,-96.254,39.78,-86.15,40.45,-83.18,40.05,-86.02,33.33,-94.3154,38.35,-87.57,37.2,-89.28,37.42,-88.9,40.1,-85.68,37.98,-87.55,37.92,-87.3,37.35,-88.62,37.9,-88.92,37.32,-88.3,37.83,-87.58,36.8802,-88.3372,36.93,-87.67,38.8,-85.65,37.88,-89.0,38.606,-85.2637,39.88,-82.32,39.73,-81.92,37.0,-89.18,38.08,-88.17,40.18,-85.4,32.3109,-96.2184,37.18,-90.57,38.67,-86.78,38.77,-86.1742,40.03,-107.92,37.77,-89.33,18.12,-65.58,37.95,-86.77,25.8,-80.0879,25.8,-80.0718,18.1565,-64.92,17.9871,-65.4402,60.48,-150.6099,26.1,-79.8402,39.1143,-86.42,25.8751,-79.8798,21.2,-156.8249,29.8163,-88.07,29.6717,-87.67,29.7517,-87.13,30.12,-83.58,30.96,-82.66,20.23,-155.83,29.88,-84.6,30.17,-84.37,29.33,-82.2,29.67,-81.2633,29.4733,-81.9627,29.7609,-81.4729,29.18,-82.13,29.35,-81.74,29.47,-81.27,28.9,-82.57,30.47,-83.63,30.33,-83.5276,29.68,-82.27,29.47,-81.26,29.44,-81.52,29.39,-81.69,29.19,-82.21,29.47,-81.53,29.2906,-82.1092,29.4853,-81.2524,28.8815,-82.0457,28.8942,-81.9494,28.96,-81.95,28.9588,-81.5871,29.0,-81.3778,29.0,-81.38,29.4711,-81.3337,29.6599,-81.4913,29.0641,-80.989,27.73,-81.53,-14.2,-169.7,-14.3,-170.6,45.7011,-84.4068,45.68,-111.03,40.5,-122.3,17.68,-64.9,34.73,-112.45,24.8477,-80.8526,24.82,-80.82,24.8255,-80.8053,31.0411,-95.15,24.8,-80.8,30.13,-94.4,30.13,-94.3666,30.13,-94.3331,30.15,-94.27,36.5765,-90.4,30.28,-94.17,30.12,-94.02,30.2911,-93.67,30.11,-92.02,30.235,-91.865,29.9489,-91.879,29.9856,-91.7613,30.0,-91.82,30.03,-92.04,30.05,-91.73,30.4507,-92.3556,30.68,-92.27,30.6511,-92.27,29.3508,-92.0218,30.21,-91.71,28.83,-91.73,31.4555,-90.9,30.31,-91.8,31.6189,-90.61,31.63,-90.73,29.9,-90.13,31.7294,-90.4,31.9234,-90.2061,29.897,-90.153,29.92,-90.05,30.0121,-90.0519,29.06,-91.45,32.0977,-89.9012,31.92,-89.78,32.0632,-89.6245,32.1729,-89.6007,32.1438,-89.5106,32.37,-89.48,29.02,-91.53,32.13,-89.4,32.4211,-89.4195,31.4182,-89.8459,31.4668,-89.844,29.24,-91.38,31.5312,-89.75,32.53,-89.03,31.55,-89.5,30.7789,-89.4705,32.5,-88.85,31.5834,-89.247,31.03,-89.8453,32.6496,-88.5557,31.3302,-89.27,31.0409,-89.4023,31.2609,-88.8722,30.5,-89.12,31.1645,-88.57,30.38,-89.08,30.4477,-88.7425,31.08,-88.23,30.1577,-88.02,30.47,-88.35,36.48,-91.48,36.75,-90.4,30.47,-87.92,30.63,-87.03,27.67,-82.72,27.88,-81.83,27.5,-81.45,31.53,-83.85,31.5445,-83.85,31.0431,-84.4031,27.5723,-81.45,30.8989,-84.2,31.13,-84.15,30.87,-84.2,30.38,-84.8,30.4089,-84.8,31.18,-83.7493,30.43,-84.8862,28.2098,-81.3884,31.47,-83.52,32.77,-88.55,28.25,-81.28,31.7,-83.8399,30.5,-84.45,31.6777,-83.4585,33.4193,-88.32,30.45,-84.28,30.53,-84.33,32.7477,-88.17,30.5801,-84.28,30.4909,-84.3274,28.03,-80.58,31.29,-82.91,32.7715,-88.0555,27.63,-80.4816,27.7479,-80.5396,27.82,-80.47,27.4789,-80.33,33.1566,-87.57,33.08,-87.7,33.492,-87.566,33.15,-87.55,33.1855,-87.57,32.6566,-87.58,32.58,-87.53,32.5928,-87.5715,32.5691,-87.4944,32.6,-87.5263,33.0128,-87.3994,33.0066,-87.45,33.22,-87.4,33.02,-87.3188,32.4,-82.0601,33.0113,-87.3385,32.5433,-87.32,31.56,-82.02,33.0016,-87.2553,31.6,-81.89,32.4578,-87.02,33.45,-87.15,33.65,-82.17,33.02,-87.08,33.47,-87.03,33.42,-86.95,33.45,-86.97,33.7136,-82.1128,33.4655,-81.97,33.45,-86.8816,33.45,-86.9527,32.5336,-86.9544,33.1,-86.7492,33.1,-86.87,33.32,-86.82,33.32,-82.1,32.4653,-86.7469,33.55,-81.72,32.75,-81.5956,32.7807,-81.5935,32.75,-81.59,32.7909,-81.5814,32.47,-86.48,34.0,-81.7874,32.4939,-86.7389,32.4991,-86.5834,32.99,-81.31,32.9898,-81.2878,33.01,-81.29,33.1391,-81.1312,34.0977,-81.35,32.25,-85.4,34.2489,-77.78,35.0482,-119.3801,38.45,-100.32,37.93,-100.73,37.98,-101.2,37.7435,-101.75,37.53,-101.2,38.48,-100.9,38.9166,-92.7015,38.87,-93.63,40.82,-98.6,41.4945,-98.07,41.05,-99.02,40.0143,-99.97,41.3089,-98.58,41.4811,-99.1982,40.7977,-98.47,41.08,-98.7584,41.2109,-99.2043,41.57,-98.15,37.03,-90.0224,37.08,-89.67,37.1,-89.57,37.2055,-89.47,36.8216,-90.4893,36.7501,-90.82,36.95,-90.18,36.83,-90.83,37.27,-89.18,37.1,-89.92,37.3555,-89.02,37.12,-89.2,36.97,-88.37,37.28,-88.97,36.6366,-90.25,37.2613,-88.927,37.18,-89.67,37.25,-88.5,37.47,-88.75,37.13,-88.9756,37.1,-90.08,36.7011,-88.63,36.6404,-88.3455,36.5869,-87.8851,36.6,-87.82,36.5734,-87.35,36.5401,-87.35,39.0223,-93.22,36.98,-87.98,36.4,-86.45,36.35,-82.22,42.82,-98.2394,41.48,-97.62,47.1,-122.2,39.62,-79.95,35.0101,-82.2705,34.68,-82.95,42.0011,-97.2988,41.4283,-97.07,41.3704,-97.2772,-14.3,-169.5,41.5198,-97.5137,41.47,-96.78,41.4445,-96.78,39.92,-122.1234,36.2344,-119.4141,36.2446,-119.57,41.9596,-96.9025,41.73,-96.72,41.32,-96.3885,41.1807,-96.2907,41.0532,-96.0062,22.2,-159.5,21.47,-158.22,42.6168,-94.2176,35.22,-100.73,35.2806,-100.6,34.7767,-100.7131,34.87,-100.67,36.23,-100.27,36.23,-100.4851,22.2083,-159.4784,42.52,-92.45,36.87,-100.18,37.04,-100.94,36.2399,-99.62,36.28,-99.4017,37.17,-100.74,35.6398,-100.38,37.19,-100.59,36.43,-99.2359,37.6,-100.67,37.38,-100.3546,37.62,-100.55,37.4458,-100.2829,37.475,-100.2505,36.0176,-99.6309,38.05,-100.86,38.18,-99.32,38.0,-98.76,35.02,-99.52,35.0211,-99.52,38.36,-98.35,38.48,-99.01,38.42,-99.03,39.01,-98.19,38.93,-98.0,41.4,-99.65,38.9291,-92.6774,33.37,-84.8,35.22,-95.4331,35.23,-94.63,32.48,-93.75,32.5734,-93.6937,32.5916,-93.6351,35.82,-93.65,32.02,-94.7,32.53,-94.37,32.73,-94.0044,38.29,-96.93,33.3934,-93.58,33.35,-93.58,32.3471,-93.5926,32.3267,-93.5684,38.65,-97.13,38.88,-97.36,38.86,-97.41,38.87,-97.39,38.9904,-97.4437,39.0105,-98.6008,32.9329,-92.6918,38.89,-98.8,33.02,-92.73,33.2696,-92.2821,38.1,-89.05,33.45,-92.0163,33.7369,-91.7468,38.87,-98.61,33.7965,-91.6134,33.8187,-91.5539,32.62,-93.28,32.53,-93.3,32.8996,-92.7956,32.9893,-92.6166,33.0011,-92.68,34.22,-90.95,39.35,-97.48,37.8,-89.03,33.6951,-91.8,33.8005,-91.6846,34.45,-90.48,34.2,-90.58,34.37,-90.63,33.9956,-91.3492,33.0482,-92.0676,34.0091,-91.3146,33.6225,-91.6086,33.15,-91.95,33.52,-91.43,33.33,-91.453,33.0113,-91.6915,38.6477,-94.0,33.4,-91.1539,32.7698,-91.9122,38.0,-86.95,33.3591,-91.099,32.78,-91.814,38.18,-89.1,33.5182,-90.9181,32.87,-91.5349,32.78,-91.5138,35.1089,-89.82,32.2678,-91.991,32.48,-91.75,32.5667,-91.75,39.1168,-92.5967,33.3887,-90.7235,32.6387,-91.591,33.6602,-90.3623,32.6773,-91.3258,32.9178,-91.0488,33.52,-90.3014,21.3,-157.7,33.77,-90.1017,32.7798,-91.1293,34.0927,-89.552,33.77,-89.98,34.0,-90.05,36.13,-88.52,31.5923,-91.9084,34.0,-89.88,31.6055,-91.83,31.62,-91.834,33.97,-89.7,34.17,-89.63,31.6421,-91.7673,33.5,-89.92,32.23,-91.3738,31.6868,-91.7642,39.3,-93.7734,33.98,-89.35,33.85,-89.32,35.05,-89.63,32.4596,-90.7958,32.68,-90.4,32.6011,-90.37,31.95,-90.8841,32.55,-90.32,33.1367,-89.58,33.2387,-89.4618,32.0587,-90.6924,33.27,-89.28,32.6609,-89.9814,34.27,-87.8725,34.1162,-88.0203,33.05,-89.5455,31.98,-90.37,32.08,-90.2,32.15,-90.13,32.8023,-89.53,32.1,-90.0841,33.1198,-89.0622,33.6645,-88.45,32.2189,-89.9196,31.7489,-90.4,32.2333,-89.8,31.5055,-90.7,31.3721,-90.6973,33.4087,-88.7565,33.9289,-88.13,31.5132,-90.6125,32.2468,-89.7248,33.42,-88.65,32.18,-89.7,31.8,-90.1191,32.68,-89.22,31.5966,-90.226,33.5,-88.43,34.85,-86.52,31.6376,-90.1085,32.32,-89.2984,33.45,-88.32,41.5,-94.65,41.02,-93.32,41.17,-94.03,40.7,-93.37,40.93,-93.98,40.63,-93.9,33.9898,-87.4923,33.27,-88.1865,32.45,-88.83,31.63,-89.55,31.7,-89.13,35.9,-84.88,35.87,-85.1,39.5411,-92.8146,39.8996,-80.7033,38.65,-87.22,38.82,-87.25,39.03,-86.97,38.3911,-121.37,40.03,-80.75,31.53,-82.43,32.2815,-81.2081,32.32,-81.42,39.6909,-94.6969,39.7566,-93.55,39.6393,-93.2698,38.52,-121.5,39.78,-87.38,26.68,-80.05,28.1,-80.63,20.87,-156.15,19.98,-155.23,26.27,-80.2,26.18,-80.2,26.2,-80.22,26.22,-80.23,26.16,-80.2,62.12,-145.2408,26.12,-80.15,26.2,-80.17,26.1,-80.13,26.13,-80.1139,37.81,-96.29,37.91,-95.86,38.05,-95.67,38.85,-94.65,38.95,-94.62,38.98,-94.67,39.08,-94.57,37.94,-95.74,38.0,-95.59,39.02,-94.48,38.46,-95.64,38.5,-95.5561,39.12,-94.47,38.07,-95.37,38.0534,-95.4209,38.21,-95.45,38.01,-95.4,38.13,-95.29,38.07,-95.3401,38.0301,-95.4,38.78,-95.18,39.0,-94.7,38.4,-94.35,38.42,-95.85,38.13,-95.1,38.9802,-94.7169,38.1209,-95.072,38.22,-95.02,39.2,-94.53,38.2584,-94.9088,39.08,-94.43,38.39,-95.64,38.48,-95.6,39.58,-93.7875,38.9496,-94.7563,38.97,-94.73,38.3645,-94.58,38.48,-95.47,38.62,-95.27,38.88,-94.82,38.4,-94.4976,38.3334,-94.5289,39.28,-93.98,38.57,-94.87,39.02,-94.3172,38.5409,-94.1323,38.57,-94.9994,38.67,-94.85,38.4,-96.39,38.62,-93.93,38.5378,-94.6,38.2978,-96.3103,38.37,-96.54,38.33,-96.18,38.4,-96.18,38.72,-94.5256,38.72,-94.47,38.65,-94.35,38.42,-96.13,39.67,-93.23,38.45,-96.04,38.6398,-94.3631,39.0596,-94.5437,38.8,-94.3758,38.52,-96.03,38.78,-94.3627,39.05,-94.88,38.67,-94.1515,38.6699,-94.1225,38.48,-95.75,39.7,-92.05,38.8155,-94.0,38.83,-94.0,39.0,-93.97,38.8423,-93.75,38.7845,-93.75,40.23,-92.7,38.77,-93.75,38.61,-95.68,39.93,-91.4,38.72,-95.08,38.97,-93.42,38.88,-94.53,39.0402,-94.6368,37.6902,-101.6871,38.48,-100.9185,38.0869,-101.8062,37.95,-101.1767,36.2993,-96.7619,34.27,-88.72,35.8,-88.77,36.2445,-96.57,40.47,-90.87,36.5,-88.32,36.3,-88.32,36.18,-96.48,40.55,-90.91,36.3647,-96.2341,35.62,-88.83,40.55,-90.54,36.38,-88.48,37.27,-87.68,34.27,-88.77,39.42,-92.43,34.83,-89.17,40.76,-90.62,39.47,-92.2668,39.523,-92.2246,37.62,-87.4,39.5404,-92.1693,39.6107,-92.167,39.6024,-92.1498,39.6052,-92.1306,39.5988,-92.1,35.78,-87.75,36.02,-95.97,39.6526,-92.0045,40.75,-90.9,37.53,-87.27,36.0682,-95.8488,40.13,-96.67,36.32,-95.6,35.7366,-87.47,39.5767,-91.6358,36.32,-95.4744,36.12,-87.22,39.78,-91.18,36.3867,-95.32,36.3145,-95.32,39.68,-91.05,40.03,-91.0889,41.38,-89.52,37.2,-94.84,37.45,-94.28,36.87,-94.46,35.25,-94.92,37.34,-94.7,34.38,-88.68,40.4985,-90.6782,40.52,-90.5,35.38,-94.45,40.47,-90.6801,40.5,-90.68,36.27,-94.68,38.31,-92.83,35.43,-94.35,34.65,-88.55,37.49,-94.28,37.7,-93.96&key=AovJ4RaLmics_D-oHTKlr35bg5S_W4T5m6ualG7i8Lsb09-6K1YvW939JjbPkbto",
    "connectVia": {
        "referenceName": "AutoResolveIntegrationRuntime",
        "type": "IntegrationRuntimeReference"
    },
    "method": "GET",
    "headers": {}
}

http://dev.virtualearth.net/REST/v1/Elevation/List?points=35.52,-81.63,38.8,-75.58&key=AovJ4RaLmics_D-oHTKlr35bg5S_W4T5m6ualG7i8Lsb09-6K1YvW939JjbPkbto

let blah = StormEvents | summarize c=count() | project toint(c/128);
let groupCount = materialize(blah);
StormEvents
| where not(isnull(BeginLat)) and not(isnull(BeginLon))
| distinct coordinates = strcat(round(BeginLat,5),",",round(BeginLon,5))
| extend groupNumber = hash_xxhash64(coordinates, groupCount)
| summarize points = make_list(coordinates) by groupNumber
| project points = replace_string(replace_string(replace_string(tostring(points),"[",""),"]",""),"\"","")


-----

**Congratulations... you have successfully completed this exercise**

-----

## Reference

* Bing Maps
  * [Get Elevations](https://learn.microsoft.com/en-us/bingmaps/rest-services/elevations/get-elevations)
* Data Explorer
  * [make_list() (aggregation function)](https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/makelist-aggfunction)

